# Инструкции для Gemini Agent (OpenCart Project)

## Контекст проекта

- **Стек:** PHP 8.2, OpenCart 3.x.
- **Архитектура:** MVC-L (Model-View-Controller-Language).
- **Локализация:** Все текстовые строки ДОЛЖНЫ браться из файлов в `catalog/language/` или `admin/language/`.

## Правила написания кода

1. **PHP:** Используй строгую типизацию там, где это возможно в рамках PHP 7.4.
2. **OpenCart:**
   - Для доступа к данным используй `$this->config->get()`, `$this->db`, `$this->url->link()`.
   - Всегда проверяй наличие прав доступа в контроллерах админки через `$this->user->hasPermission()`.
3. **Локализация:** Никогда не пиши текст на русском или английском напрямую в контроллерах или шаблонах. Используй `$this->language->get('key')`.
4. **Безопасность:** Всегда экранируй входящие данные через `$this->db->escape()`.

## Формат ответов

- Если ты предлагаешь изменения в языковых файлах, всегда указывай полный путь (например, `admin/language/ru-ru/extension/payment/paypal.php`).
- При создании новых методов в контроллерах, добавляй краткие PHPDoc комментарии.
- Если решение требует обновления модификаторов (OCMOD), напомни о необходимости обновить кэш в `marketplace/modification`.

## Предпочтения

- Используй unified diff формат для предложений по коду.
- Будь лаконичен, фокусируйся на качестве и безопасности кода.
- Все ответы пиши на русском языке
